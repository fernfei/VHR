(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-616f37f8"],{"07ac":function(t,e,a){var l=a("23e7"),r=a("6f53").values;l({target:"Object",stat:!0},{values:function(t){return r(t)}})},1814:function(t,e,a){},1937:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 工资表查询 ")])},r=[],i={name:"SalSearch"},s=i,n=a("2877"),o=Object(n["a"])(s,l,r,!1,null,"564a95f9",null);e["default"]=o.exports},"21c7":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 工资表管理 ")])},r=[],i={name:"SalTable"},s=i,n=a("2877"),o=Object(n["a"])(s,l,r,!1,null,"bca3269e",null);e["default"]=o.exports},"2bc5":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"sal-head"},[a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:t.showAddView}},[t._v("添加套账")])],1),a("div",[a("el-button",{attrs:{type:"success",icon:"el-icon-refresh",size:"small"}})],1)]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sobData,size:"small"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"套账名称",width:"150"}}),a("el-table-column",{attrs:{prop:"basicsalary",label:"基本工资",width:"100"}}),a("el-table-column",{attrs:{prop:"trafficsalary",label:"交通补助",width:"100"}}),a("el-table-column",{attrs:{prop:"lunchsalary",label:"午餐补助",width:"100"}}),a("el-table-column",{attrs:{prop:"bonus",label:"奖金",width:"100"}}),a("el-table-column",{attrs:{prop:"createdate",label:"启用日期",width:"150"}}),a("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"pension",label:"养老金",width:"100"}},[a("el-table-column",{attrs:{prop:"pensionper",label:"比率",width:"100"}}),a("el-table-column",{attrs:{prop:"pensionbase",label:"基数",width:"100"}})],1),a("el-table-column",{attrs:{prop:"medical",label:"医疗保险",width:"100"}},[a("el-table-column",{attrs:{prop:"medicalper",label:"比率",width:"100"}}),a("el-table-column",{attrs:{prop:"medicalbase",label:"基数",width:"100"}})],1),a("el-table-column",{attrs:{prop:"accumulation",label:"公积金",width:"100"}},[a("el-table-column",{attrs:{prop:"accumulationfundper",label:"比率",width:"100"}}),a("el-table-column",{attrs:{prop:"accumulationfundbase",label:"基数",width:"100"}})],1),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.showEditView(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.deleteSalary(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),a("div",[a("el-dialog",{attrs:{title:t.operation,visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[a("el-steps",{attrs:{direction:"vertical",active:t.active}},t._l(t.salaryItemsName,(function(t,e){return a("el-step",{key:e,attrs:{title:t}})})),1),a("div",[t._l(t.salary,(function(e,l,r){return r==t.active?a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.active<=10,expression:"active<=10"}],key:r,staticStyle:{width:"300px"},attrs:{placeholder:"请输入"+t.salaryItemsName[t.active],size:"small"},model:{value:t.salary[l],callback:function(e){t.$set(t.salary,l,e)},expression:"salary[item]"}}):t._e()})),a("div",{directives:[{name:"show",rawName:"v-show",value:11==t.active,expression:"active==11"}],staticClass:"block"},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"date",size:"small",placeholder:"选择日期"},model:{value:t.salary.createdate,callback:function(e){t.$set(t.salary,"createdate",e)},expression:"salary.createdate"}})],1)],2),a("div")],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.prev}},[t._v(t._s(0==t.active?"取消":"上一步"))]),a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.next}},[t._v(t._s(12==t.active?"完成":"下一步"))])],1)])],1)])},r=[],i=(a("a623"),a("b0c0"),a("07ac"),{name:"SalSob",data:function(){return{sobData:[],dialogVisible:!1,active:0,salaryItemsName:["套账名称","基本工资","交通补助","午餐补助","奖金","养老金比率","养老金基数","医疗保险比率","医疗保险基数","公积金比率","公积金基数","启用时间"],salary:{name:"",basicsalary:"",trafficsalary:"",lunchsalary:"",bonus:"",pensionper:"",pensionbase:"",medicalper:"",medicalbase:"",accumulationfundper:"",accumulationfundbase:"",createdate:""},operation:""}},mounted:function(){this.initSalarySob()},methods:{initSalarySob:function(){var t=this;this.getRequest("/salary/sob/").then((function(e){e?t.sobData=e.object:t.$message.error("初始化工资套账信息失败！")}))},showEditView:function(t,e){this.dialogVisible=!0,Object.assign(this.salary,e),this.operation="编辑"},showAddView:function(){this.operation="添加",this.dialogVisible=!0},next:function(){var t=this;if(12===this.active){if("编辑"===this.operation)this.putRequest("/salary/sob/",this.salary).then((function(e){e&&t.initSalarySob()}));else if("添加"===this.operation){console.log(this.salary);var e=Object.values(this.salary).every((function(t){return""===t}));if(e)return void this.$message.error("字段不能为空！");this.salary.createdate||(this.salary.createdate=new Date),this.salary.createdate=this.moment(this.salary.createdate).format("YYYY-MM-DD HH:mm:ss"),this.postRequest("/salary/sob/",this.salary).then((function(e){e&&t.initSalarySob()}))}this.dialogVisible=!1,this.active=0,this.salary={name:"",basicsalary:"",trafficsalary:"",lunchsalary:"",bonus:"",pensionper:"",pensionbase:"",medicalper:"",medicalbase:"",accumulationfundper:"",accumulationfundbase:"",createdate:""}}else this.active++>11&&(this.active=0)},prev:function(){0===this.active?this.dialogVisible=!1:this.active--<0&&(this.active=0)},deleteSalary:function(t,e){var a=this;this.$confirm("此操作将永久删除【"+e.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.deleteRequest("/salary/sob/"+e.id).then((function(t){t&&a.initSalarySob()}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))}}}),s=i,n=(a("fb8b"),a("2877")),o=Object(n["a"])(s,l,r,!1,null,"874f4490",null);e["default"]=o.exports},"6ac98":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.SalSobCfgData,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"employee.name",label:"姓名",width:"180"}}),a("el-table-column",{attrs:{prop:"employee.workid",label:"工号"}}),a("el-table-column",{attrs:{prop:"employee.email",label:"电子邮件"}}),a("el-table-column",{attrs:{prop:"employee.phone",label:"手机号码"}}),a("el-table-column",{attrs:{prop:"department.name",label:"所属部门"}}),a("el-table-column",{attrs:{label:"工资套账"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!=e.row.salary?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right"}},[a("table",{attrs:{slot:"content"},slot:"content"},[a("tr",[a("td",[t._v("基本工资:")]),a("td",[t._v("￥"+t._s(e.row.salary.basicsalary))])]),a("tr",[a("td",[t._v("奖金:")]),a("td",[t._v("￥"+t._s(e.row.salary.bonus))])]),a("tr",[a("td",[t._v("午餐补助:")]),a("td",[t._v("￥"+t._s(e.row.salary.lunchsalary))])]),a("tr",[a("td",[t._v("交通补助:")]),a("td",[t._v("￥"+t._s(e.row.salary.trafficsalary))])]),a("tr",[a("td",[t._v("养老金基数:")]),a("td",[t._v(t._s(e.row.salary.pensionbase))])]),a("tr",[a("td",[t._v("养老金比率:")]),a("td",[t._v(t._s(e.row.salary.pensionper))])]),a("tr",[a("td",[t._v("公积金基数:")]),a("td",[t._v(t._s(e.row.salary.medicalbase))])]),a("tr",[a("td",[t._v("公积金比率:")]),a("td",[t._v(t._s(e.row.salary.medicalper))])]),a("tr",[a("td",[t._v("医疗保险基数:")]),a("td",[t._v(t._s(e.row.salary.accumulationfundbase))])]),a("tr",[a("td",[t._v("医疗保险比率:")]),a("td",[t._v(t._s(e.row.salary.accumulationfundper))])])]),a("el-tag",[t._v(t._s(e.row.salary.name))])],1):t._e(),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:null===e.row.salary,expression:"scope.row.salary===null"}]},[t._v("暂未设置")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"left",width:"200",trigger:"click"},on:{show:function(a){return t.showPop(e.row)},hide:function(a){return t.hidenPop(e.row)}}},[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.currentSalary,callback:function(e){t.currentSalary=e},expression:"currentSalary"}},t._l(t.salaries,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1),a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[t._v("修改套账")])],1)]}}])})],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-top":"50px"}},[a("div"),a("div",[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.currentPage}})],1)])])},r=[],i={name:"SalSobCfg",data:function(){return{SalSobCfgData:[],total:0,page:1,size:10,salaries:[],currentSalary:""}},mounted:function(){this.initSalary(),this.initSalSobCfg(this.page,this.size)},methods:{initSalary:function(){var t=this;this.getRequest("/salary/sobcfg/salary").then((function(e){e?t.salaries=e.object:t.$message.error("初始化套账信息失败！")}))},initSalSobCfg:function(t,e){var a=this;this.getRequest("/salary/sobcfg/?page="+t+"&size="+e).then((function(t){t&&(a.SalSobCfgData=t.object.data,a.total=t.object.total)}))},currentPage:function(t){this.initSalSobCfg(t,this.size)},showPop:function(t){t.salary&&(this.currentSalary=t.salary.id)},hidenPop:function(t){var e=this;if(t.salary||""!==this.currentSalary)if(this.currentSalary!==t.salary.id){var a="/salary/sobcfg/updateSalarySob/?employeeId="+t.employee.id+"&salaryId="+this.currentSalary;this.putRequest(a).then((function(t){t&&(e.initSalSobCfg(e.page,e.size),e.currentSalary="")}))}else this.currentSalary="";else this.currentSalary=""}}},s=i,n=a("2877"),o=Object(n["a"])(s,l,r,!1,null,"36cf9e74",null);e["default"]=o.exports},"6f53":function(t,e,a){var l=a("83ab"),r=a("df75"),i=a("fc6a"),s=a("d1e7").f,n=function(t){return function(e){var a,n=i(e),o=r(n),c=o.length,u=0,d=[];while(c>u)a=o[u++],l&&!s.call(n,a)||d.push(t?[a,n[a]]:n[a]);return d}};t.exports={entries:n(!0),values:n(!1)}},a623:function(t,e,a){"use strict";var l=a("23e7"),r=a("b727").every,i=a("a640"),s=a("ae40"),n=i("every"),o=s("every");l({target:"Array",proto:!0,forced:!n||!o},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},d7e6:function(t,e,a){var l={"./SalMonth.vue":"fbac","./SalSearch.vue":"1937","./SalSob.vue":"2bc5","./SalSobCfg.vue":"6ac98","./SalTable.vue":"21c7"};function r(t){var e=i(t);return a(e)}function i(t){if(!a.o(l,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return l[t]}r.keys=function(){return Object.keys(l)},r.resolve=i,t.exports=r,r.id="d7e6"},fb8b:function(t,e,a){"use strict";var l=a("1814"),r=a.n(l);r.a},fbac:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 月末处理 ")])},r=[],i={name:"SalMonth"},s=i,n=a("2877"),o=Object(n["a"])(s,l,r,!1,null,"51ab19b2",null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-616f37f8.7282904f.js.map